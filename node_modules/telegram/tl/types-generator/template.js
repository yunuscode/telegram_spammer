"use strict";
// Not sure what they are for.
const WEIRD_TYPES = new Set(["Bool", "X", "Type"]);
module.exports = ({ types, constructors, functions }) => {
    function groupByKey(collection, key) {
        return collection.reduce((byKey, member) => {
            const keyValue = member[key] || "_";
            if (!byKey[keyValue]) {
                byKey[keyValue] = [member];
            }
            else {
                byKey[keyValue].push(member);
            }
            return byKey;
        }, {});
    }
    function getClassNameWithNameSpace(name, namespace) {
        return namespace
            ? namespace.toLowerCase() + "." + upperFirst(name)
            : upperFirst(name);
    }
    function renderTypes(types, indent) {
        return types
            .map(({ name, constructors }) => `
      ${!constructors.length ? "// " : ""}export type Type${upperFirst(name)} = ${constructors.map((name) => name).join(" | ")};
    `.trim())
            .join(`\n${indent}`);
    }
    function renderConstructors(constructors, indent) {
        return constructors
            .map((args) => {
            // console.log(args);
            const { name, namespace, argsConfig, constructorId, subclassOfId, } = args;
            if (name === "Message") {
                return `export class Message extends CustomMessage {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "request";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
    }`;
            }
            else if (name === "MessageService") {
                return `export class MessageService extends CustomMessage {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "request";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
    }`;
            }
            const argKeys = Object.keys(argsConfig);
            // console.log(constructorId);
            if (!argKeys.length) {
                return `export class ${upperFirst(name)} extends VirtualClass<void> {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "constructor";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
}`;
            }
            const hasRequiredArgs = argKeys.some((argName) => argName !== "flags" && !argsConfig[argName].isFlag);
            return `
      export class ${upperFirst(name)} extends VirtualClass<{
${indent}  ${Object.keys(argsConfig)
                .map((argName) => `
        ${renderArg(argName, argsConfig[argName])};
      `.trim())
                .join(`\n${indent}  `)}
${indent}}${!hasRequiredArgs ? "" : ""}> {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "constructor";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
${indent}  ${Object.keys(argsConfig)
                .map((argName) => `
        ${renderArg(argName, argsConfig[argName])};
      `.trim())
                .join(`\n${indent}  `)}
${indent}}`.trim();
        })
            .join(`\n${indent}`);
    }
    function renderRequests(requests, indent) {
        return requests
            .map((args) => {
            const { name, argsConfig, result, constructorId, namespace, subclassOfId, } = args;
            const argKeys = Object.keys(argsConfig);
            if (!argKeys.length) {
                return `export class ${upperFirst(name)} extends Request<void, ${renderResult(result)}> {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "request";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
}`;
            }
            const hasRequiredArgs = argKeys.some((argName) => argName !== "flags" && !argsConfig[argName].isFlag);
            return `
      export class ${upperFirst(name)} extends Request<Partial<{
${indent}  ${argKeys
                .map((argName) => `
        ${renderArg(argName, argsConfig[argName])};
      `.trim())
                .join(`\n${indent}  `)}
${indent}}${!hasRequiredArgs ? "" : ""}>, ${renderResult(result)}> {
${indent}CONSTRUCTOR_ID: ${constructorId};
${indent}SUBCLASS_OF_ID: ${subclassOfId};
${indent}classType: "request";
${indent}className: "${getClassNameWithNameSpace(name, namespace)}";
${indent}static fromReader(reader: Reader): ${upperFirst(name)};
${indent}  ${argKeys
                .map((argName) => `

        ${renderArg(argName, argsConfig[argName])};
      `.trim())
                .join(`\n${indent}  `)}
${indent}}`.trim();
        })
            .join(`\n${indent}`);
    }
    function renderResult(result) {
        const vectorMatch = result.match(/[Vv]ector<([\w\d.]+)>/);
        const isVector = Boolean(vectorMatch);
        const scalarValue = isVector ? vectorMatch[1] : result;
        const isTlType = Boolean(scalarValue.match(/^[A-Z]/)) || scalarValue.includes(".");
        return renderValueType(scalarValue, isVector, isTlType);
    }
    function renderArg(argName, argConfig) {
        const { isVector, isFlag, skipConstructorId, type } = argConfig;
        const valueType = renderValueType(type, isVector, !skipConstructorId);
        return `${argName === "flags" ? "// " : ""}${argName}${isFlag || (argName === "randomId" && type === "long" && !isVector)
            ? "?"
            : ""}: ${valueType}`;
    }
    function renderValueType(type, isVector, isTlType) {
        if (WEIRD_TYPES.has(type)) {
            return type;
        }
        let resType;
        if (typeof type === "string" && isTlType) {
            resType = renderTypeName(type);
        }
        else {
            resType = type;
        }
        if (resType === "true") {
            resType = "boolean";
        }
        if (isVector) {
            resType = `${resType}[]`;
        }
        return resType;
    }
    function renderTypeName(typeName) {
        return typeName.includes(".")
            ? typeName.replace(".", ".Type")
            : `Api.Type${typeName}`;
    }
    function upperFirst(str) {
        return `${str[0].toUpperCase()}${str.slice(1)}`;
    }
    function lowerFirst(str) {
        return `${str[0].toLowerCase()}${str.slice(1)}`;
    }
    const typesByNs = groupByKey(types, "namespace");
    const constructorsByNs = groupByKey(constructors, "namespace");
    const requestsByNs = groupByKey(functions, "namespace");
    // language=TypeScript
    return `
// This file is autogenerated. All changes will be overwritten.
import { BigInteger } from 'big-integer';
import {EntityLike,MessageIDLike} from "../define";
import { CustomMessage } from "./custom/message";


export namespace Api {
  type AnyLiteral = Record<string, any> | void;
  type Reader = any; // To be defined.
  type Client = any; // To be defined.
  type Utils = any; // To be defined.
  type X = unknown;
  type Type = unknown;
  type Bool = boolean;
  type int = number;
  type double = number;
  type float = number;
  type int128 = BigInteger;
  type int256 = BigInteger;
  type long = BigInteger;
  type bytes = Buffer;
  class VirtualClass<Args extends AnyLiteral> {
    static CONSTRUCTOR_ID: number;
    static SUBCLASS_OF_ID: number;
    static className: string;
    static classType: 'constructor' | 'request';
    static serializeBytes(data: Buffer | string): Buffer;
    static serializeDate(date: Date | number): Buffer;
    getBytes():Buffer;
    CONSTRUCTOR_ID: number;
    SUBCLASS_OF_ID: number;
    className: string;
    classType: 'constructor' | 'request';
    constructor(args: Args);
    originalArgs: Args;
    toJSON(): Args;
  }
  class Request<Args, Response> extends VirtualClass<Partial<Args>> {
    static readResult(reader: Reader): Buffer;
    resolve(client: Client, utils: Utils): Promise<void>;
    __response: Response;
  }
  ${renderConstructors(constructorsByNs._, "  ")}
  ${renderRequests(requestsByNs._, "  ")}
// namespaces
  ${Object.keys(constructorsByNs)
        .map((namespace) => namespace !== "_"
        ? `
  export namespace ${namespace} {
    ${renderConstructors(constructorsByNs[namespace], "    ")}
  }`
        : "")
        .join("\n")}
  ${Object.keys(typesByNs)
        .map((namespace) => namespace !== "_"
        ? `
  export namespace ${namespace} {
    ${renderTypes(typesByNs[namespace], "    ")}
  }`
        : "")
        .join("\n")}
  ${Object.keys(requestsByNs)
        .map((namespace) => namespace !== "_"
        ? `
  export namespace ${namespace} {
    ${renderRequests(requestsByNs[namespace], "    ")}
  }`
        : "")
        .join("\n")}
// Types
  export type TypeEntityLike = EntityLike;
  ${renderTypes(typesByNs._, "  ")}
// All requests
  export type AnyRequest = ${requestsByNs._.map(({ name }) => upperFirst(name)).join(" | ")}
    | ${Object.keys(requestsByNs)
        .filter((ns) => ns !== "_")
        .map((ns) => requestsByNs[ns]
        .map(({ name }) => `${ns}.${upperFirst(name)}`)
        .join(" | "))
        .join("\n    | ")};
}
`;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9ncmFtanMvdGwvdHlwZXMtZ2VuZXJhdG9yL3RlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw4QkFBOEI7QUFDOUIsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFFbkQsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFO0lBQ3BELFNBQVMsVUFBVSxDQUFDLFVBQVUsRUFBRSxHQUFHO1FBQy9CLE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUN2QyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDO1lBRXBDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ2xCLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzlCO2lCQUFNO2dCQUNILEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDaEM7WUFFRCxPQUFPLEtBQUssQ0FBQztRQUNqQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRUQsU0FBUyx5QkFBeUIsQ0FBQyxJQUFJLEVBQUUsU0FBUztRQUM5QyxPQUFPLFNBQVM7WUFDWixDQUFDLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUcsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO1lBQ2xELENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNO1FBQzlC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